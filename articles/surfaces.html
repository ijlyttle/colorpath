<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using Color Surfaces to Incorporate an Identity • colorpath</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using Color Surfaces to Incorporate an Identity">
<meta property="og:description" content="colorpath">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">colorpath</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="Unreleased version">0.0.1.9010</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/colorpath.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/surfaces.html">Using Color Surfaces to Incorporate an Identity</a>
    </li>
    <li>
      <a href="../articles/theory.html">Theory for Color Scales</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ijlyttle/colorpath/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="surfaces_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using Color Surfaces to Incorporate an Identity</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ijlyttle/colorpath/blob/master/vignettes/surfaces.Rmd"><code>vignettes/surfaces.Rmd</code></a></small>
      <div class="hidden name"><code>surfaces.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/ijlyttle/colorpath">"colorpath"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="http://purrr.tidyverse.org">"purrr"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://ggplot2.tidyverse.org">"ggplot2"</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/tidyverse/glue">"glue"</a></span><span class="op">)</span></code></pre></div>
<p>One goal of this package is to help you design sets of categorical and quantitative palettes that are consistent amongst themselves.</p>
<p>We propose a mechanism for this, what this package calls a <em>surface</em>.</p>
<div id="single-hue-surface" class="section level2">
<h2 class="hasAnchor">
<a href="#single-hue-surface" class="anchor"></a>Single-hue surface</h2>
<p>At it’s simplest, a surface is the set of all colors (in a given color space) with a given hue. Let’s consider a dark-blue hue in the Jzazbz color-space:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sfc_blue</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pth_new_surface.html">pth_new_surface</a></span><span class="op">(</span><span class="st">"#0000FF"</span>, transformer <span class="op">=</span> <span class="va">pth_to_jzazbz100</span><span class="op">)</span></code></pre></div>
<p>It takes a few seconds for the surface to be computed; it is calculating values for maximum chroma. Here’s a plot of the result:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">sfc_blue</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_blue-plot-1.png" width="700"></p>
<p>This surface is a slice of the RGB gamut for the Jzazbz color-space (scaled here to 100) where the hue is fixed to the hue of <code>#0000FF</code>.</p>
<p>We can make a similar surface for cyan (<code>#00FFFF</code>):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sfc_cyan</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pth_new_surface.html">pth_new_surface</a></span><span class="op">(</span><span class="st">"#00FFFF"</span>, transformer <span class="op">=</span> <span class="va">pth_to_jzazbz100</span><span class="op">)</span>
<span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">sfc_cyan</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_cyan-1.png" width="700"></p>
<p>We notice a couple of things here:</p>
<ul>
<li>the maximum chroma for blue is at a low luminance.</li>
<li>the maximum chroma for cyan is at a high luminance.</li>
</ul>
</div>
<div id="multi-hue-surfaces" class="section level2">
<h2 class="hasAnchor">
<a href="#multi-hue-surfaces" class="anchor"></a>Multi-hue surfaces</h2>
<p>We can create a surface that captures both these maxima:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sfc_cyan_blue</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pth_new_surface.html">pth_new_surface</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00FFFF"</span>, <span class="st">"#0000FF"</span><span class="op">)</span>, transformer <span class="op">=</span> <span class="va">pth_to_jzazbz100</span><span class="op">)</span>
<span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">sfc_cyan_blue</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_cyan_blue-1.png" width="700"></p>
<p>This shows another aspect of surfaces: using the given color-space, hue is a linear function of luminance. This was also the case for the single-hue surfaces.</p>
<p>Also note that you can define surfaces using hex-codes. This could be useful if you are designing a set of palettes for an organization, you can design surfaces using the hex-codes of existing brand-colors.</p>
<p>When you create a surface using hex-codes, you have to specify the color-space to be used; provide a <code>transformer</code> function such as <code>pth_to_jzazbz100</code>, without the parentheses.</p>
<p>There are couple other arguments to <code><a href="../reference/pth_new_surface.html">pth_new_surface()</a></code>:</p>
<ul>
<li><p>use <code>n_step</code> to specify the number of steps, in luminance, to use in calculating the maximum chroma. The max-chroma is calculated <em>once</em>, as the surface is being created; a much quicker approximation-function is used thereafter.</p></li>
<li><p>use <code>route</code> to specify if the variation of hue - to we take the <code>"short"</code> (default) or <code>"long"</code> route around the unit circle? The <code>"long"</code> value may be useful if you are designing a surface to build a viridis-like or inferno-like palette.</p></li>
</ul>
<p>You can see that the surface <code>sfc_blue_cyan</code> starts to look “purple” for values of luminance below around 40. We can make the surface more “blue” at the low end by choosing a different dark blue, in this case <code>"#000099"</code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">sfc_cyan_blue_clipped</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/pth_new_surface.html">pth_new_surface</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#00FFFF"</span>, <span class="st">"#000099"</span><span class="op">)</span>, transformer <span class="op">=</span> <span class="va">pth_to_jzazbz100</span><span class="op">)</span>
<span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">sfc_cyan_blue_clipped</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_cyan_blue_clipped-1.png" width="700"></p>
<p>This surface looks more “blue” top-to-bottom.</p>
</div>
<div id="incorporating-an-identity" class="section level2">
<h2 class="hasAnchor">
<a href="#incorporating-an-identity" class="anchor"></a>Incorporating an identity</h2>
<p>My suggestion for a set of palettes is to specify four surfaces. In this case, I’ll choose:</p>
<ul>
<li>a set of blues</li>
<li>a set of oranges</li>
<li>a set of greens</li>
<li>a set of purples</li>
</ul>
<p>We’ll also look at how these surfaces behave when we simulate color-vision deficiency.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
  blues <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#42B4E6"</span>, <span class="st">"#0087CD"</span><span class="op">)</span>,
  oranges <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#E47F00"</span>, <span class="st">"#702407"</span><span class="op">)</span>,
  greens <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#007626"</span>, <span class="st">"#70E07C"</span><span class="op">)</span>,
  purples <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"#3D1152"</span>, <span class="st">"#C530FF"</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">surfaces</span> <span class="op">&lt;-</span> <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">colors</span>, <span class="va">pth_new_surface</span>, transformer <span class="op">=</span> <span class="va">pth_to_jzazbz100</span><span class="op">)</span></code></pre></div>
<p>Here are the surfaces.</p>
<p>I restrained the blues:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">surfaces</span><span class="op">$</span><span class="va">blues</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_blues-1.png" width="700"></p>
<p>With the oranges, I added a redder-orange with lower luminance to add some chroma to the lower “half” of the luminance range.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">surfaces</span><span class="op">$</span><span class="va">oranges</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_oranges-1.png" width="700"></p>
<p>Whereas the blues and oranges are multi-hue the greens and purples are more single-hue:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">surfaces</span><span class="op">$</span><span class="va">greens</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_greens-1.png" width="700"></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pth_plot_surface.html">pth_plot_surface</a></span><span class="op">(</span><span class="va">surfaces</span><span class="op">$</span><span class="va">purples</span><span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/sfc_purples-1.png" width="700"></p>
</div>
<div id="color-vision-deficiency" class="section level2">
<h2 class="hasAnchor">
<a href="#color-vision-deficiency" class="anchor"></a>Color-vision deficiency</h2>
<p>The idea is that all the colors used in a set of categorical and quantitative palettes would be found on these surfaces. It could be useful to see how these surfaces interact with each other under simulated color-vision deficiency (CVD).</p>
<p>Our first step is to generate lots of colors. Here, for each of our surfaces, we are generating (in this case 21) colors at the maximum-chroma, distributed evenly along the luminance domain.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mat_surfaces</span> <span class="op">&lt;-</span> 
  <span class="va">surfaces</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html">map</a></span><span class="op">(</span><span class="va">pth_mat_max_chroma</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/reduce.html">reduce</a></span><span class="op">(</span><span class="va">rbind</span><span class="op">)</span></code></pre></div>
<p>Next, we can plot these colors in polar coordinates, using <code><a href="../reference/pth_plot_polar.html">pth_plot_polar()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/pth_plot_polar.html">pth_plot_polar</a></span><span class="op">(</span><span class="va">mat_surfaces</span>, cvd <span class="op">=</span> <span class="fu"><a href="../reference/pth_cvd_grid.html">pth_cvd_grid_full</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_grid.html">facet_grid</a></span><span class="op">(</span>
    rows <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">condition</span><span class="op">)</span>, 
    cols <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/vars.html">vars</a></span><span class="op">(</span><span class="va">severity</span><span class="op">)</span>,
    labeller <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labeller.html">labeller</a></span><span class="op">(</span>severity <span class="op">=</span> <span class="va">label_both</span><span class="op">)</span>
  <span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">ggtitle</a></span><span class="op">(</span>
    label <span class="op">=</span> <span class="st">"Outer (chroma) edge of surfaces, simulating color-vision deficiency"</span>,
    subtitle <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html">glue</a></span><span class="op">(</span><span class="st">"Color space: {pth_colorspace_name(mat_surfaces)}"</span><span class="op">)</span>
  <span class="op">)</span></code></pre></div>
<p><img src="surfaces_files/figure-html/plot-mat_surfaces-1.png" width="700"></p>
<p>This is a facetted plot. Each row shows a given type of color-vision deficiency (deutan is most prevalent); each column shows a certain severity.</p>
<p>We are plotting points that lie on the most-chromatic part of each surface; this can give us an idea of how that surface behaves within the color space. We can use this mental-model as a guide to untangle color “collisions” in CVD. Keep in mind that the points are equally-spaced in luminance, the luminance considered in the non-CVD case.</p>
<p>In each case, the color space collapses from three to (almost) two dimensions. However, in each case, blues are always opposite to oranges; greens are always opposite to purples.</p>
</div>
<div id="next-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#next-steps" class="anchor"></a>Next steps</h2>
<p>We will use these surfaces as the bases for categorical and quantitative palettes, for both light mode and dark mode. Our design constraints will also include the background color we will use for both light mode and dark mode.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ian J Lyttle.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
